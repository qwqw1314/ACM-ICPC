#include<iostream>

using namespace std;

int tetx[40][4] = { {0,1,2,3}, {0,0,0,0}, {0,0,1,1}, {0,1,2,2}, {0,1,2,2} , {0,0,1,2}, {0,0,1,2}, {0,0,0,1}, {0,0,0,1}, {0,1,1,1}, {0,0,0,-1}, {0,1,1,1}, {0,0,0,1}, {0,1,2,1}, {0,1,2,1}, {0,1,1,2},
{0,1,1,2}, {0,0,1,1}, {0,0,1,1} };
int tety[40][4] = { {0,0,0,0}, {0,1,2,3}, {0,1,0,1}, {0,0,0,1}, {0,0,0,-1}, {0,1,0,0}, {0,1,1,1}, {0,1,2,0}, {0,1,2,2}, {0,0,1,2}, {0,1,2,2},  {1,0,1,2}, {0,1,2,1}, {1,1,1,0}, {0,0,0,1}, {0,0,1,1},
{1,1,0,0}, {2,1,1,0}, {0,1,1,2} };
int n, m, maxint;
int a[510][510];

int main()
{
	int i, j, k, l;
	cin >> n >> m;
	for (i = 1; i <= n; i++)
		for (j = 1; j <= m; j++)
			cin >> a[i][j];
	for (i = 1; i <= n; i++)
	{
		for (j = 1; j <= m; j++)
		{
			for (k = 0; k < 19; k++)
			{
				int sum = 0;
				for (l = 0; l < 4; l++)
				{
					int nx = i + tetx[k][l], ny = j + tety[k][l];
					sum += a[nx][ny];
				}
				if (sum > maxint)
					maxint = sum;
			}
		}
	}
	cout << maxint;
	return 0;
}